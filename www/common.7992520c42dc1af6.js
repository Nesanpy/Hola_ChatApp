"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{9495:(d,f,a)=>{a.d(f,{B:()=>h});var i=a(467),c=a(3953),e=a(2418);let h=(()=>{class n{constructor(){this.firestore=(0,c.WQX)(e._7)}getCollectionChanges(s){const r=(0,e.rJ)(this.firestore,s);return(0,e.xs)(r)}createDocumentID(s,r,o){const t=(0,e.H9)(this.firestore,`${r}/${o}`);return(0,e.BN)(t,s)}documentExists(s,r){var o=this;return(0,i.A)(function*(){const t=(0,e.H9)(o.firestore,`${s}/${r}`);return(yield(0,e.x7)(t)).exists()})()}loginUser(s,r){var o=this;return(0,i.A)(function*(){try{const t=(0,e.rJ)(o.firestore,"Usuario"),l=(0,e.P)(t,(0,e._M)("correo","==",s)),u=yield(0,e.GG)(l);if(u.empty)return!1;{const _=u.docs[0].data();return!(!_||_.contrasenha!==r)}}catch(t){throw console.error("Error al iniciar sesi\xf3n:",t),new Error("Error al iniciar sesi\xf3n.")}})()}sendMessage(s,r){var o=this;return(0,i.A)(function*(){try{const t=(0,e.rJ)(o.firestore,`Mensaje/${s}/mensajes`);yield(0,e.gS)(t,{mensaje:r,timestamp:new Date})}catch(t){throw console.error("Error al enviar el mensaje:",t),new Error("Error al enviar el mensaje.")}})()}getMessages(s){const r=(0,e.rJ)(this.firestore,`Mensaje/${s}/mensajes`),o=(0,e.P)(r,(0,e.My)("timestamp","asc"));return(0,e.xs)(o,{idField:"id"})}static#e=this.\u0275fac=function(r){return new(r||n)};static#r=this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);